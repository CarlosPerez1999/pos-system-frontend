<section
  class="w-full min-h-screen px-5 pb-5 flex justify-center items-center relative overflow-hidden bg-gradient-to-br from-primary/20 via-info/10 to-success/20"
>
  <!-- Decorative background elements -->
  <div
    class="absolute top-0 left-0 w-96 h-96 bg-primary/30 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"
  ></div>
  <div
    class="absolute bottom-0 right-0 w-96 h-96 bg-success/30 rounded-full blur-3xl translate-x-1/2 translate-y-1/2"
  ></div>
  <div
    class="absolute top-1/2 left-1/2 w-96 h-96 bg-info/20 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"
  ></div>

  <!-- Login card -->
  <div
    class="w-full sm:w-96 flex flex-col gap-6 shadow-2xl bg-surface/80 backdrop-blur-xl p-8 rounded-2xl border border-primary/20 relative z-10"
  >
    <!-- Header with icon -->
    <div class="flex flex-col items-center gap-4">
      <div
        class="p-4 bg-gradient-to-br from-primary to-info rounded-full shadow-lg"
      >
        <app-icon
          class="text-white"
          height="64"
          width="64"
          icon="qlementine-icons:user-16"
        ></app-icon>
      </div>
      <h2
        class="text-3xl font-bold text-center bg-gradient-to-r from-primary to-info bg-clip-text text-transparent"
      >
        Welcome Back
      </h2>
      <p class="text-sm text-muted text-center">Please sign in to continue</p>
    </div>

    <!-- Form -->
    <form [formGroup]="loginForm" class="flex flex-col gap-4">
      <app-input-form
        [control]="loginForm.controls.username"
        label="Username"
        inputName="username"
      ></app-input-form>
      <app-input-form
        [control]="loginForm.controls.password"
        label="Password"
        inputName="password"
        type="password"
      ></app-input-form>
    </form>

    <!-- Forgot Password Link -->
    <button
      type="button"
      (click)="onForgotPassword()"
      class="text-sm text-primary hover:text-info transition-colors text-right -mt-2"
    >
      Forgot Password?
    </button>

    <!-- Login button -->
    <app-button (clickEmitter)="onLogin()" class="mt-2">
      <span label>Sign In</span>
    </app-button>

    <!-- Footer text -->
    <p class="text-xs text-muted text-center mt-2">
      Secure access to your POS system
    </p>
  </div>
</section>

<!-- Password Recovery Modal -->
<app-modal type="info" modalId="reset-password" title="Reset Password">
  <div content class="flex flex-col gap-4">
    <p class="text-sm text-muted">
      Enter your email address. The reset link will be displayed in the server
      console (mock email service).
    </p>

    <form [formGroup]="resetPasswordForm" class="flex flex-col gap-4">
      <app-input-form
        [control]="resetPasswordForm.controls.email"
        label="Email Address"
        inputName="email"
        type="email"
        placeholder="your@email.com"
      >
      </app-input-form>
    </form>

    <div class="flex justify-end gap-3 mt-2">
      <app-button
        variant="ghost"
        (clickEmitter)="modalService.closeModal('reset-password')"
      >
        <span label>Cancel</span>
      </app-button>
      <app-button
        (clickEmitter)="onSubmitPasswordReset()"
        [disabled]="isResettingPassword()"
      >
        <span label>
          {{ isResettingPassword() ? "Sending..." : "Send Reset Link" }}
        </span>
      </app-button>
    </div>
  </div>
</app-modal>
