<article class="w-full flex flex-col gap-4 p-4 bg-surface rounded-lg">
  <header class="flex justify-between items-center">
    <div class="flex items-center gap-2">
      <span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M7 22q-.825 0-1.412-.587T5 20t.588-1.412T7 18t1.413.588T9 20t-.587 1.413T7 22m10 0q-.825 0-1.412-.587T15 20t.588-1.412T17 18t1.413.588T19 20t-.587 1.413T17 22M6.15 6l2.4 5h7l2.75-5zM5.2 4h14.75q.575 0 .875.513t.025 1.037l-3.55 6.4q-.275.5-.737.775T15.55 13H8.1L7 15h12v2H7q-1.125 0-1.7-.987t-.05-1.963L6.6 11.6L3 4H1V2h3.25zm3.35 7h7z"
          />
        </svg>
      </span>
      <p class="text-lg font-bold">Cart({{ cartItems().length }})</p>
    </div>
    <app-button variant="destructive" (clickEmitter)="clearCart()" size="icon">
      <span icon-left>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M9 8V6h6v2zM7 22q-.825 0-1.412-.587T5 20t.588-1.412T7 18t1.413.588T9 20t-.587 1.413T7 22m10 0q-.825 0-1.412-.587T15 20t.588-1.412T17 18t1.413.588T19 20t-.587 1.413T17 22M1 4V2h3.275l4.25 9h7l3.9-7H21.7l-4.4 7.95q-.275.5-.737.775T15.55 13H8.1L7 15h12v2H7q-1.125 0-1.713-.975T5.25 14.05L6.6 11.6L3 4z"
          />
        </svg>
      </span>
    </app-button>
  </header>
  <main class="flex flex-col gap-2 max-h-80 overflow-y-auto scrollbar-hide">
    @for (item of cartItems(); track $index) {
    <sales-cart-item [item]="item"></sales-cart-item>
    }
  </main>
  @if (cartItems().length > 0) {
  <hr class="border-2 text-zinc-200" />
  }
  <footer class="flex flex-col gap-4">
    <h4 class="flex justify-between items-center font-bold">
      Total:<span>{{ cartService.total() | currency }}</span>
    </h4>
    <app-button
      [disabled]="cartItems().length <= 0"
      variant="primary"
      size="md"
      (clickEmitter)="modalService.openModal('sale-confirmation')"
    >
      <span icon-left>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
        >
          <path
            fill="currentColor"
            d="M14 13q-1.25 0-2.125-.875T11 10t.875-2.125T14 7t2.125.875T17 10t-.875 2.125T14 13m-7 3q-.825 0-1.412-.587T5 14V6q0-.825.588-1.412T7 4h14q.825 0 1.413.588T23 6v8q0 .825-.587 1.413T21 16zm2-2h10q0-.825.588-1.412T21 12V8q-.825 0-1.412-.587T19 6H9q0 .825-.587 1.413T7 8v4q.825 0 1.413.588T9 14m11 6H3q-.825 0-1.412-.587T1 18V7h2v11h17zM7 14V6z"
          />
        </svg>
      </span>
      <span label>Pay in Cash</span>
    </app-button>
  </footer>
</article>
